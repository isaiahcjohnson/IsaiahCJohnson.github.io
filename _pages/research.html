---
layout: archive
title: "Research"
permalink: /research/
author_profile: true
---

{% include base_path %}

<p style="font-size:0.9em;color:#666;">Total research items: {{ site.research | size }}</p>

{% assign cats = site.research_category %}
{% assign order = "books,manuscripts,working_papers,works_in_progress,conferences,reports" | split: "," %}

{% for key in order %}
  {% assign k = key | strip %}
  {% assign heading = cats[k].title | default: k %}

  {# match either `category: k` or `categories: [k, ...]` #}
  {% assign items_strict = site.research | where: "category", k %}
  {% assign items_array  = site.research | where_exp: "it", "it.categories and it.categories contains k" %}
  {% assign items = items_strict | concat: items_array | sort: "date" | reverse %}

  {% if items.size > 0 %}
    <h2>{{ heading }}</h2><hr />
    {% for post in items %}
      {% include archive-single.html post=post %}
    {% endfor %}
  {% endif %}
{% endfor %}
